<div class="page-content" fxLayout="column" fxLayoutAlign="center center">
  
  <div class="hero-upload-section" fxLayout="column" fxLayoutAlign="center center">
    <div>
      <h3>Thumbnail Image (use Youtube dimensions)</h3>
    </div>
    <div *ngIf="heroUploadProcessing$ | async">
      <mat-progress-spinner color="accent" mode="indeterminate"></mat-progress-spinner>
    </div>
    <div class="hero-image-input" *ngIf="!(heroUploadProcessing$ | async)">
      <input #heroImageInput style="display: none" type="file" accept="image/*" id="file" (change)="onUploadHeroImage($event)">
      <button mat-raised-button color="accent" (click)="heroImageInput.click()">Choose Thumbnail Image</button>
    </div>
    <div *ngIf="(heroImageProps$ | async) as heroImage">
      <img class="hero-image-display" [src]="heroImage.src" [srcset]="heroImage.srcset" [sizes]="heroImage.sizes" [width]="heroImage.width" [alt]="title">
    </div>
  </div>

  <div class="blog-content-section" fxLayout="column" fxLayoutAlign="center center">
    <div *ngIf="inlineUploadProcessing$ | async">
      <mat-progress-spinner color="accent" mode="indeterminate"></mat-progress-spinner>
    </div>
    <form [formGroup]="postForm" (keydown.enter)="$event.preventDefault()" fxFlexFill >
      <mat-form-field class="post-title">
        <input matInput formControlName="title" type="text" placeholder="Post Title">
      </mat-form-field>

      <mat-form-field class="video-url">
        <input matInput formControlName="videoUrl" type="text" placeholder="Video Url">
      </mat-form-field>

      <ckeditor
        class="ck-editor-panel"
        [editor]="Editor" 
        formControlName="content"
        (ready)="onEditorAdaptorPluginRdy($event)"
        (keydown.enter)="textareaEnterPressed($event)"
        ></ckeditor>
      <div class="form-actions" fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="16px">
        <button class="submit-button" [disabled]="postForm.invalid || !postInitialized" mat-raised-button color="accent" type="button" (click)="onCreatePost()">Submit Post</button>
        <button *ngIf="isNewPost" class="discard-button" [disabled]="!postInitialized" mat-raised-button color="warn" type="button" (click)="onDiscardEdits()">Discard Post</button>
        <button *ngIf="!isNewPost" class="discard-button" [disabled]="!postInitialized" mat-raised-button color="warn" type="button" (click)="onDiscardEdits()">Discard Edits</button>
      </div>
    </form>
  </div>
</div>